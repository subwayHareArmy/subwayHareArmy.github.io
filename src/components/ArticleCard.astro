---
import Picture from "./Picture.astro";
import { RelativeDate } from "./RelativeDate/RelativeDate";

interface Props {
  slug: string;
  title: string;
  description: string;
  date: Date;
  img?: ImageMetadata[];
  imgAlt?: string;
}

const { slug, title, description, date, img, imgAlt } = Astro.props;
---

<a class="card" href={`/notes/${slug}`} aria-label={title}>
  {img && imgAlt && <Picture img={img} imgAlt={imgAlt} />}
  <div class="contents">
    <h2 class="title">{title}</h2>
    <small class="subtitle">{description}</small>
    <RelativeDate date={date} prefix="" />
  </div>
</a>

<style>
  .card {
    display: block;
    border-radius: var(--radius-l);
    transition: all 0.2s ease-in-out;
  }

  .card:hover .image {
    transform: scale(1.03);
  }

  .card:active .image {
    transform: scale(0.98);
  }

  .contents {
    display: flex;
    flex-direction: column;
    gap: var(--space-s);
    padding: var(--space-m);
    padding-inline-start: 0;
  }

  .title {
    font-size: var(--step-2);
    line-height: var(--line-height-h4);
    transition: all 0.2s ease-in-out;
    text-wrap: balance;
  }

  .card:hover .title {
    color: var(--pink-9);
  }

  .subtitle {
    color: var(--mauve-11);
    line-height: var(--line-height-small);
    text-wrap: balance;
  }
</style>
